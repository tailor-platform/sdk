{"version":3,"file":"stepChain__step1.js","names":[],"sources":["../resolvers/stepChain.transformed.js","../steps/stepChain__step1.js"],"sourcesContent":["import { format } from \"/dummy/path/node_modules/date-fns/index.js\";\nimport { DummyDriver, Kysely, PostgresAdapter, PostgresIntrospector, PostgresQueryCompiler } from \"/dummy/path/node_modules/kysely/dist/esm/index.js\";\n\n//#region generated/tailordb.ts\nconst getDB = () => {\n\treturn new Kysely({ dialect: {\n\t\tcreateAdapter: () => new PostgresAdapter(),\n\t\tcreateDriver: () => new DummyDriver(),\n\t\tcreateIntrospector: (db) => new PostgresIntrospector(db),\n\t\tcreateQueryCompiler: () => new PostgresQueryCompiler()\n\t} });\n};\nasync function kyselyWrapper(context, callback) {\n\tconst db = getDB();\n\tconst clientWrapper = { exec: async (query) => {\n\t\treturn await context.client.exec(query.sql, query.parameters);\n\t} };\n\treturn await callback({\n\t\t...context,\n\t\tdb,\n\t\tclient: clientWrapper\n\t});\n}\n\n//#endregion\n//#region resolvers/stepChain/resolver.ts\n\n//#endregion\n\nexport const $tailor_resolver_step__step1 = (context) => {\n\treturn `step1: Hello ${context.input.user.name.first} ${context.input.user.name.last} on step1!`;\n};\nexport const $tailor_resolver_step__step2 = async () => {\n\treturn `step2: recorded ${format(/* @__PURE__ */ new Date(), \"yyyy-MM-dd HH:mm:ss\")} on step2!`;\n};\nexport const $tailor_resolver_step__sqlStep = async (context) => {\n\tconst result = await context.client.execOne(`SELECT name FROM User ORDER BY createdAt DESC`);\n\treturn result ? result.name : \"no user found\";\n};\nexport const $tailor_resolver_step__kyselyStep = (context) => kyselyWrapper(context, async (context$1) => {\n\tconst query = context$1.db.selectFrom(\"Supplier\").select([\"state\"]).compile();\n\treturn (await context$1.client.exec(query)).map((r) => r.state).join(\", \");\n});\n","import { $tailor_resolver_step__step1 } from \"../resolvers/stepChain.transformed.js\";\nglobalThis.main = $tailor_resolver_step__step1;"],"mappings":"ACCA,WAAW,KD4BkC,GACrC,gBAAgB,EAAQ,MAAM,KAAK,KAAK,MAAM,GAAG,EAAQ,MAAM,KAAK,KAAK,KAAK"}