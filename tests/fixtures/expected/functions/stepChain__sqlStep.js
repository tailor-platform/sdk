const $tailor_resolver_step__sqlStep=async c=>(await c.client.execOne(`
      SELECT name FROM User
    `)).name,$connect_tailordb=async c=>{const n=new tailordb.Client({namespace:c});await n.connect();const t={async exec(e){return(await n.queryObject(e)).rows},async execOne(e){const a=await n.queryObject(e);return console.log(a),a.rows[0]}};return{...t,async transaction(e){try{await t.exec("BEGIN");const a=await e(t);return await t.exec("COMMIT"),a}catch(a){console.error("Transaction failed:",a);try{await t.exec("ROLLBACK")}catch(r){console.error("Failed to rollback transaction:",r)}}}}},$tailor_sql_step_wrapper=async(c,n)=>{const t=await $connect_tailordb(c);return async e=>await n({...e,client:t})};globalThis.main=await $tailor_sql_step_wrapper("my-db",$tailor_resolver_step__sqlStep);
//# sourceMappingURL=stepChain__sqlStep.js.map
