const o=async({context:t,client:e})=>({step1:t.step1,step2:t.step2,step3:await e.queryOne("SELECT 'This is a SQL step result!' AS result"),sqlStep:await e.queryOne(`
        SELECT * FROM users WHERE name = '${t.step1}'
      `)}),n=async t=>{const e=new tailordb.Client({namespace:t});await e.connect();const r={async exec(a){return e.queryObject(a)},async execOne(a){return e.queryObject(a)}};return{client:r,async transaction(a){try{await r.exec("BEGIN");const s=await a(r);return await r.exec("COMMIT"),s}catch(s){console.error("Transaction failed:",s);try{await r.exec("ROLLBACK")}catch(c){console.error("Failed to rollback transaction:",c)}}}}},i=(t,e)=>{const r=n(t);return a=>e({...a,client:r})};globalThis.main=i(o);export{n as $connect_tailordb};
//# sourceMappingURL=stepChain__sqlStep.js.map
