const $tailor_resolver_step__sqlStep=async({context:t,client:e})=>({step1:t.step1,step2:t.step2,step3:await e.queryOne("SELECT 'This is a SQL step result!' AS result"),sqlStep:await e.queryOne(`
        SELECT * FROM users WHERE name = '${t.step1}'
      `)}),$connect_tailordb=async t=>{const e=new tailordb.Client({namespace:t});await e.connect();const r={async exec(a){return e.queryObject(a)},async execOne(a){return e.queryObject(a)}};return{client:r,async transaction(a){try{await r.exec("BEGIN");const s=await a(r);return await r.exec("COMMIT"),s}catch(s){console.error("Transaction failed:",s);try{await r.exec("ROLLBACK")}catch(n){console.error("Failed to rollback transaction:",n)}}}}},$tailor_sql_step_wrapper=(t,e)=>{const r=$connect_tailordb(t);return a=>e({...a,client:r})};globalThis.main=$tailor_sql_step_wrapper($tailor_resolver_step__sqlStep);
//# sourceMappingURL=stepChain__sqlStep.js.map
